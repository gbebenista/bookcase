{% extends 'books/base.html' %}
{% block title %}Detail book{% endblock %}
{% block javascript %}
{% endblock %}
{% block content %}
{% load filter %}
{% csrf_token %}
<div class="shadow bg-white rounded p-4 m-auto w-50">
    <h3>{{ object.title }}</h3>
    <p> Author: {{ object.author }}</p>
    <p> Publisher: {{ object.publisher }}</p>
    <form action="{% url 'home' %}" method="GET">
    <p> Tags: {% for tag in object.tags.all %}
        <input type="submit" name="search" value="{{tag}}" class="btn btn-info">
        {% endfor %}
    </p>
    </form>
    <p>
        {% if object.loaner_user_id == user.id %}
        <span class="btn btn-info giveback" data-catid="{{ object.id }}" data-toggle="tooltip" title="Give back">
        <i class="fa fa-undo mr-1"></i>Return book
        </span>
        {% endif %}
        {% if book.userbasket_set|userbasket:user.id %}
        <span class="basket btn btn-warning disabled" data-toggle="tooltip" title="In basket"
              data-catid="{{ book.id }}" id="basket{{ book.id }}">
                        <i class="fa fa-shopping-basket mr-1"></i><span id="detail{{ book.id }}">In basket</span>
        </span>
        {% elif book.is_loaned == False %}
        <span class="basket btn btn-success" data-toggle="tooltip" title="Add to basket"
              data-catid="{{ book.id }}" id="basket{{ book.id }}">
                        <i class="fa fa-shopping-basket mr-1"></i><span id="detail{{ book.id }}">Available</span>
        </span>
        {% endif %}
    </p>
</div>
{% endblock %}