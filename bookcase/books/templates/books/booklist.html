{% extends 'books/base.html' %}
{% block title %}Books list{% endblock %}
{% block content %}
<div class="p-4 m-auto h5 font-weight-light">
    <div class="shadow bg-white rounded m-3">
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Author</th>
                <th scope="col">Title</th>
                <th scope="col">Publisher</th>
                <th scope="col">Status</th>
            </tr>
            </thead>
            <tbody>
            {% for object in page_obj %}
            <tr>
                <th>{{ object.author }}</th>
                <th><a href="{% url 'detailbook' object.id %}" class="text-decoration-none text-dark">{{ object.title }}</a></th>
                <th>{{ object.publisher }}</th>
                {% if object.is_loaned == False %}
                <th>
                    <span class="text-success font-weight-normal">Ready to loan</span>
                </th>
                <th>
                    <i class="fa fa-shopping-basket btn btn-success"></i>
                </th>
                {% else %}
                <th>
                    <span class="text-danger font-weight-normal">Loaned</span>
                </th>
                <th>
                    <i class="fa fa-shopping-basket btn btn-success disabled"></i>
                </th>
                {% endif %}
                {% if perms.books.delete_book %}
                <th>
                    <a href="{% url 'deletebook' object.id %}"><i class="fa fa-trash btn btn-danger text-white"></i></a>
                </th>
                {% endif %}
                {% if perms.books.change_book %}
                <th>
                    <a href="{% url 'updatebook' object.id %}"><i class="fa fa-edit btn btn-info"></i></a>
                </th>
                {% endif %}
            </tr>
            </tbody>
        {% empty %}
            <tr>
                <th></th>
                <th></th>
                <th>Empty</th>
                <th></th>
            </tr>
        {% endfor %}
        </table>
    </div>
    <div class="pagination d-flex justify-content-center">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1" class="btn btn-info">&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-info">previous</a>
            {% endif %}
            <span class="current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="btn btn-info">next</a>
                <a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-info">last &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>
{% endblock %}